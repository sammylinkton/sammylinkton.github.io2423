<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Steam Update</title>
        <link rel="stylesheet" href="styles.css" />
    </head>

    <body>
        <div title="SteamProfile" class="SteamProfile">
            <div title="Steam Profile Picture" style="overflow: hidden; position: relative">
                <a href="https://steamcommunity.com/id/sunajitsukoromo/"><img src="controller.png" id="Controller" style="position: absolute; margin-top: 30px; opacity: 0" /></a>
                <img
                    src="Untitled.png"
                    id="SteamPFP"
                    style="width: 184px; height: 184px; border-style: solid; border-color: dimgrey; margin-top: 25px" />
            </div>
            <div id="Name" class="Name" href="https://steamcommunity.com/id/sunajitsukoromo/">null</div>

            <div id="GameImage" style="color: Green"></div>
        </div>
        <script src="SteamFetch.js"></script>
        <p id="CORSCheck"><a href="https://chromewebstore.google.com/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf?hl=en">Is the username displaying "null"?</a></p>
        <!-- <script> 
        async function SteamFetch() {
    const urlsteam =
        "http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=70F175A9A5F1FBF5EBD95C8DFFEF849E&steamids=76561198324195037";
    const meow = await fetch(urlsteam);
    const data = await meow.json();
    const player = data.response.players[0];
    // Setting the PFP

    const pfp = document.getElementById("SteamPFP");
 //   console.log("Setting PFP...");
    pfp.src = data.response.players[0].avatarfull;
 //   console.log("PFP Set!");

    // Getting the persona state, its just a status indicator like Discord.

  //  console.log("Getting Persona State");
   // console.log(data.response.players[0].personastate);
    if (data.response.players[0].personastate == 1) {
        pfp.style.borderColor = "Green";
    } else if (data.response.players[0].personastate == 2) {
        pfp.style.borderColor = "Orange";
    } else if (data.response.players[0].personastate == 3) {
        pfp.style.borderColor = "Orange";
    } else {
        pfp.style.borderColor = "DarkGrey";
    }

    // Getting the persona username (thats just what your username is displayed to everyone as), and the users real name, if displayed.

    const name = document.getElementById("Name");
  //  console.log("Profile username:");
   // console.log(data.response.players[0].personaname);
    const username = data.response.players[0].personaname;
  //  console.log("Profile Real Name");
    if (data.response.players[0].realname == undefined) {
       // console.log("Real name not found, omitting it");
        const realname = "";
        name.innerHTML = username;
    } else {
   //     console.log("If it goes here with it being undefined, ill kill myself");
        const realname = '"' + data.response.players[0].realname + '"';
        name.innerHTML = "" + username + " " + realname;
    }
    // Checking if user is playing a game
    if (data.response.players[0].gameid == undefined) {
    //    console.log("Not playing a game currently");
    } else {
        //getting game id
        const opa = document.getElementById("Controller").style.opacity;
        document.getElementById("Controller").style.opacity = 1;
        document.getElementById("GameImage").innerHTML = "Playing " + data.response.players[0].gameextrainfo;
    }
    
    // listing all values gotten
    
    const dataset = [player.avatarfull, player.personastate, player.personaname, player.gameid];
    console.log(dataset);
    
    
}

console.log("First Run");
SteamFetch();
console.log("Running Code in 10,000 ms");
setInterval(SteamFetch,10000);
        
        </script>-->
        <center>
            <!-- <div class="ScheduleBoard">
        Availability Board<br>
        <div style="border-style: solid"/>
        <div> 
            
            </div>
        </div>-->
        </center>
    </body>
</html>
